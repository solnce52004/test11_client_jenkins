server:
  address: 0.0.0.0
  port: 4443
  compression:
    enabled: true
  http2:
    enabled: true

  error:
    whitelabel:
      enabled: false
  ssl:
    enabled: true
    key-alias: localtomcat
    key-store: classpath:ssl/local-tomcat-private.p12
    key-store-type: PKCS12

    key-password: Zerkalo82
    key-store-password: Zerkalo82
    trust-store-password: Zerkalo82

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_PASSWORD}
    password: ${SPRING_DATASOURCE_USERNAME}
    driver-class-name: com.mysql.cj.jdbc.Driver
#    hikari:
#      jdbc-url: ${SPRING_DATASOURCE_URL}
#      password: ${SPRING_DATASOURCE_PASSWORD}
#      username: ${SPRING_DATASOURCE_USERNAME}

  profiles:
    active: "dev"
  jpa:
    database-platform: "org.hibernate.dialect.MySQL8Dialect"
    generate-ddl: true

    properties:
      hibernate:
        default_batch_fetch_size: 20
        jdbc:
          batch_size: 10
          order_inserts: true
          order_updates: true

    # решает ошибку ClassCastException EntityManagerHolder
    open-in-view: false

  jackson:
    serialization:
      indent-output: true
      write_dates_as_timestamps: false

  flyway:
    enabled: false
    url: ${SPRING_DATASOURCE_URL}
    user: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}

  boot:
    admin:
      client:
        enabled: true
        url: "http://188.212.125.157:5555"

logging:
  config: "classpath:log4j2.properties"
  level:
    ROOT: INFO
    org:
      springframework.web: DEBUG
      hibernate: INFO

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
